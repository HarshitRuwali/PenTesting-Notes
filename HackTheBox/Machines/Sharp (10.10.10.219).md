# Sharp

## Enumeration 

### nmap 

![[Screenshot 2021-02-08 at 9.10.50 PM.png]]

Port 445, smb

`smbmap -H 10.10.10.219 -R`

![[Screenshot 2021-02-08 at 9.13.29 PM.png]]

Now get the files in the knaban directory. 

using command `smbget -R smb://10.10.10.219/kanban`

And just press enter for the root password.

![[Screenshot 2021-02-08 at 9.17.10 PM.png]]

Running `ack -i "password"` in the folder where we saved the binaries

![[Screenshot 2021-02-08 at 9.47.39 PM.png]]

Passwords from PortableKanban.pk3

`"Name":"lars","Initials":"","Email":"","EncryptedPassword":"Ua3LyPFM175GN8D3+tqwLA==","Role":"User"`

`"Name":"Administrator","Initials":"","Email":"","EncryptedPassword":"k+iUoOvQYG98PuhhRC7/rg==","Role":"Admin"`

Create a zip of the files and transfer to a Windows VM and we have to run the binary PortableKanban.exe as said in the User Guide.

Trying the exe we got, fails on the password we got (as it is encrypted)
And there is another zip pkb.zip, extracting there is a fresh set of files.

![[Screenshot 2021-02-08 at 10.16.43 PM.png]]

copy the PortableKanban.pk3.bak from the one we got, and we got the a pop up that we have restored from PortableKanban.pk3.bak

And before running the exe remove the admin password from the copied PortableKanban.pk3.bak, then run the exe 


![[Screenshot 2021-02-08 at 10.19.29 PM.png]]


log-in as Administrator, no password required.

go to setting, and user

![[Screenshot 2021-02-08 at 10.45.30 PM.png]]

un-check the hide passwords 

![[Screenshot 2021-02-08 at 10.49.57 PM.png]]

got the lars password : G123HHrth234gRG

Now delete the old pkb folder, get a new fresh one. Again copy the pk3 file and make lars as admin!

[[Screenshot 2021-02-08 at 10.55.11 PM.png]]

This time login as lars use the password: G123HHrth234gRG

and we got the Admin password as well
![[Screenshot 2021-02-08 at 10.57.38 PM.png]]

Admin  passwd : G2@$btRSHJYTarg

Back to Kali VM

Trying the admin passwd in the smb but not valid but lars one works.

`smbmap -u lars -p G123HHrth234gRG -H 10.10.10.219`

![[Screenshot 2021-02-08 at 11.07.20 PM.png]]

Getting the fiels in dev folder

`smbget -R smb://10.10.10.219/dev/ -U lars%G123HHrth234gRG`

![[Screenshot 2021-02-08 at 11.08.29 PM.png]]

Create zip and back to Windows VM.

